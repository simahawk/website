<?xml version="1.0" encoding="utf-8"?>

<openerp>
  <data>

<record id="cms_page_form" model="ir.ui.view">
  <field name="name">CMS Page form</field>
  <field name="model">cms.page</field>
  <field name="arch" type="xml">
    <form string="Page">

      <div class="oe_button_box" name="button_box">
        <button
          class="oe_stat_button"
          name="website_publish_button"
          type="object" icon="fa-globe">
            <field name="website_published" widget="website_button"/>
        </button>
      </div>

      <group name="main_1" col="2">
        <field name="parent_id" colspan="1" />
        <field name="name" colspan="1" />
      </group>
      <group name="main_2" col="2">
        <field name="view_id" colspan="1"
               options="{'no_open': True, 'no_create': True}" />
        <field name="type_id" colspan="1" />
        <field name="nav_include" colspan="1" />
      </group>

      <notebook>
        <page name="children" string="Children">
          <group name="children_defaults" col="2">
            <field name="sub_page_type_id" colspan="1"
                   options="{'no_open': True, 'no_create': True}" />
            <field name="sub_page_view_id" colspan="1"
                   options="{'no_open': True, 'no_create': True}" />
          </group>
          <field name="children_ids" nolabel="1"
                 context="{'default_type_id':sub_page_type_id,'default_view_id':sub_page_view_id,'default_parent_id':active_id}">
            <tree>
              <field name="sequence" widget="handle" />
              <field name="name" />
              <field name="type_id" />
              <field name="view_id" />
              <field name="nav_include" />
              <field name="website_published" />
            </tree>
          </field>
        </page>

        <page name="related-pages" string="Related pages">
          <field name="related_ids" nolabel="1">
            <tree>
              <field name="name" />
              <field name="type_id" />
              <field name="nav_include" />
              <field name="website_published" />
            </tree>
          </field>
        </page>

        <page name="attachments" string="Attachments">
          <field name="attachment_ids" nolabel="1">
            <tree>
              <field name="name" />
              <field name="datas_fname" />
              <field name="type" />
              <field name="mimetype" />
              <field name="create_uid" />
              <field name="create_date" />
            </tree>
          </field>
        </page>

        <page name="listing" string="Listing">
          <group name="main_listing">
            <separator string="Types to list" colspan="4" />
            <field name="list_types_ids" nolabel="1" />
          </group>
        </page>

        <page name="html-stuff" string="Page content">
          <group name="html">
            <field name="description" />
            <field name="body" widget="html" />
          </group>
        </page>

        <page name="sidebar-stuff" string="Sidebar content">
          <group name="sidebar">
            <field name="sidebar_view_ids" />
            <field name="sidebar_content" widget="html" />
          </group>
        </page>

        <page name="portlets-stuff" string="Portlets">
          <group name="portlets-left">
            <field name="left_portlet_ids" />
          </group>
        </page>

      </notebook>

    </form>
  </field>
</record>


<record id="cms_page_tree" model="ir.ui.view">
  <field name="name">CMS Page tree</field>
  <field name="model">cms.page</field>
  <field name="arch" type="xml">
    <tree string="Pages">
      <field name="sequence" widget="handle" />
      <field name="name" />
      <field name="view_id" />
      <field name="nav_include" />
      <field name="website_published" />
    </tree>
  </field>
</record>


<record id="page_search" model="ir.ui.view" >
  <field name="name">CMS Page search</field>
  <field name="model">cms.page</field>
  <field name="arch" type="xml">

    <search string="Search page">
      <field name="name" />
      <field name="parent_id" />
      <field name="nav_include" />
      <field name="website_published" />

      <group expand="0" string="Filter">

        <filter
          name="only_main"
          string="Only main"
          icon="terp-personal"
          domain="[('parent_id','=',False)]"
          />

      </group>

      <group expand="0" string="Group By">

        <filter
          string='Parent'
          domain="[]"
          context="{'group_by' : 'parent_id'}"
          />

        <filter
          string='Published'
          domain="[]"
          context="{'group_by' : 'website_published'}"
          />

      </group>

    </search>

  </field>
</record>


  </data>
</openerp>


